<div class="ti-root">
  <header class="ti-topbar">
    <button class="ti-back" (click)="goBack()">←</button>

    <div class="ti-title">
      <div class="ti-title-main">Train Information</div>
      <div class="ti-title-sub" *ngIf="fullName">{{ fullName }}</div>
    </div>

    <div style="width: 40px"></div>
  </header>

  <div class="ti-container">
    <div *ngIf="loading" class="ti-status">Loading...</div>
    <div *ngIf="!loading && err" class="ti-status ti-error">{{ err }}</div>

    <!-- ✅ Train Card -->
    <section
      *ngIf="!loading && !err && train"
      class="ti-card"
      style="
        border: 1px solid rgba(191, 219, 254, 0.8);
        background: linear-gradient(
          135deg,
          rgba(239, 246, 255, 0.95),
          rgba(236, 253, 245, 0.95)
        );
        box-shadow: 0 14px 30px rgba(15, 23, 42, 0.08);
      "
    >
      <!-- Header -->
      <div
        class="ti-card-head"
        style="
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 12px;
        "
      >
        <div style="min-width: 0">
          <div
            class="ti-card-title"
            style="
              font-weight: 900;
              color: #1d3273;
              font-size: 1.05rem;
              overflow-wrap: anywhere;
            "
          >
            {{ train.trainName !== '—' ? train.trainName : 'Your Train' }}
          </div>

          <div style="margin-top: 4px; font-size: 0.82rem; color: #4b5563">
            Train No:
            <strong style="color: #111827">{{ train.trainNumber }}</strong>
          </div>

          <div style="margin-top: 2px; font-size: 0.82rem; color: #4b5563">
            Date:
            <strong style="color: #111827">{{ train.date }}</strong>
          </div>
        </div>

        <!-- Seat Badge -->
        <div
          style="
            padding: 10px 12px;
            border-radius: 14px;
            background: rgba(29, 50, 115, 0.1);
            border: 1px solid rgba(29, 50, 115, 0.16);
            text-align: right;
            min-width: 110px;
          "
        >
          <div
            style="
              font-size: 0.7rem;
              color: #6b7280;
              font-weight: 800;
              letter-spacing: 0.08em;
              text-transform: uppercase;
            "
          >
            Seat No
          </div>
          <div
            style="
              font-size: 1.25rem;
              font-weight: 900;
              color: #1d3273;
              line-height: 1.1;
            "
          >
            {{ train.seatNumber }}
          </div>
        </div>
      </div>

      <div style="height: 1px; background: rgba(229, 231, 235, 0.9); margin: 12px 0"></div>

      <!-- Grid Info -->
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px">
        <!-- Boarding -->
        <div
          style="
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(229, 231, 235, 0.9);
            padding: 10px 12px;
          "
        >
          <div
            style="
              font-size: 0.72rem;
              color: #6b7280;
              font-weight: 900;
              text-transform: uppercase;
              letter-spacing: 0.08em;
            "
          >
            Boarding
          </div>
          <div style="margin-top: 2px; font-size: 0.98rem; font-weight: 900; color: #111827">
            {{ train.boarding }}
          </div>
        </div>

        <!-- Time -->
        <div
          style="
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(229, 231, 235, 0.9);
            padding: 10px 12px;
          "
        >
          <div
            style="
              font-size: 0.72rem;
              color: #6b7280;
              font-weight: 900;
              text-transform: uppercase;
              letter-spacing: 0.08em;
            "
          >
            Time
          </div>
          <div style="margin-top: 2px; font-size: 0.98rem; font-weight: 900; color: #111827">
            {{ train.time }}
          </div>
        </div>

        <!-- Coach -->
        <div
          style="
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(229, 231, 235, 0.9);
            padding: 10px 12px;
          "
        >
          <div
            style="
              font-size: 0.72rem;
              color: #6b7280;
              font-weight: 900;
              text-transform: uppercase;
              letter-spacing: 0.08em;
            "
          >
            Coach
          </div>
          <div style="margin-top: 2px; font-size: 0.98rem; font-weight: 900; color: #111827">
            {{ train.coach }}
          </div>
        </div>

        <!-- PNR -->
        <div
          style="
            border-radius: 14px;
            background: rgba(22, 163, 74, 0.08);
            border: 1px solid rgba(22, 163, 74, 0.18);
            padding: 10px 12px;
          "
        >
          <div
            style="
              font-size: 0.72rem;
              color: #065f46;
              font-weight: 900;
              text-transform: uppercase;
              letter-spacing: 0.08em;
            "
          >
            PNR
          </div>
          <div style="margin-top: 2px; font-size: 0.98rem; font-weight: 900; color: #064e3b">
            {{ train.pnr }}
          </div>
        </div>
      </div>
    </section>

    <!-- No train info -->
    <div *ngIf="!loading && !err && !train" class="ti-status" style="margin-top: 14px">
      Train details will be updated soon.
    </div>
  </div>
</div>
